<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
  />
  <title>ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸° - 100% ëœë¤ ìë™ ìƒì„±</title>
  <meta
    name="description"
    content="6/45 ë¡œë˜ ë²ˆí˜¸ë¥¼ 100% ëœë¤ìœ¼ë¡œ ìë™ ìƒì„±í•´ì£¼ëŠ” ë¬´ë£Œ ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°ì…ë‹ˆë‹¤."
  />

  <style>
    @import url("https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700&display=swap");

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Pretendard", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #3f5efb, #13141f 55%);
      color: #fff;
    }

    .app {
      width: 100%;
      max-width: 480px;
      padding: 28px 22px 30px;
      border-radius: 22px;
      background: rgba(15, 16, 30, 0.92);
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.55);
      backdrop-filter: blur(18px);
    }

    .app-header {
      margin-bottom: 18px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 500;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      color: #111827;
      margin-bottom: 8px;
    }

    .badge span {
      font-size: 14px;
      margin-right: 4px;
    }

    h1 {
      font-size: 22px;
      font-weight: 700;
      letter-spacing: -0.03em;
      margin-bottom: 6px;
    }

    .subtitle {
      font-size: 13px;
      color: #9ca3af;
      line-height: 1.4;
    }

    .card {
      margin-top: 18px;
      padding: 16px 14px 18px;
      border-radius: 18px;
      background: linear-gradient(145deg, #111827, #020617);
      border: 1px solid rgba(148, 163, 184, 0.15);
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .card-title {
      font-size: 14px;
      font-weight: 600;
    }

    .card-desc {
      font-size: 12px;
      color: #9ca3af;
      margin-top: 2px;
    }

    .chip {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      color: #e5e7eb;
    }

    .numbers {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
      margin: 10px 0 14px;
      min-height: 56px;
    }

    .ball {
      width: 42px;
      height: 42px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 16px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.35);
      transform: translateY(0);
      transition: transform 0.18s ease-out, box-shadow 0.18s ease-out;
    }

    /* ìƒ‰ìƒëŒ€ì—­ (1~10,11~20,21~30,31~40,41~45) */
    .ball.range-1 {
      background: radial-gradient(circle at 30% 20%, #fef9c3, #facc15);
      color: #1f2937;
    }

    .ball.range-2 {
      background: radial-gradient(circle at 30% 20%, #fee2e2, #ef4444);
      color: #111827;
    }

    .ball.range-3 {
      background: radial-gradient(circle at 30% 20%, #dcfce7, #22c55e);
      color: #052e16;
    }

    .ball.range-4 {
      background: radial-gradient(circle at 30% 20%, #dbeafe, #3b82f6);
      color: #0b1120;
    }

    .ball.range-5 {
      background: radial-gradient(circle at 30% 20%, #f5d0fe, #a855f7);
      color: #1f2937;
    }

    .ball.pop {
      transform: translateY(-4px);
      box-shadow: 0 14px 24px rgba(0, 0, 0, 0.55);
    }

    .controls {
      display: flex;
      gap: 10px;
      margin-top: 4px;
    }

    button {
      border: none;
      cursor: pointer;
      font-family: inherit;
    }

    .btn-main {
      flex: 1;
      padding: 11px 14px;
      border-radius: 999px;
      font-size: 14px;
      font-weight: 600;
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #03211a;
      box-shadow: 0 10px 20px rgba(34, 197, 94, 0.35);
      transition: transform 0.12s ease-out, box-shadow 0.12s ease-out,
        filter 0.12s ease-out;
    }

    .btn-main:active {
      transform: translateY(1px);
      box-shadow: 0 6px 12px rgba(34, 197, 94, 0.3);
      filter: brightness(0.96);
    }

    .btn-sub {
      width: 90px;
      padding: 11px 0;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 500;
      background: rgba(15, 23, 42, 0.9);
      color: #9ca3af;
      border: 1px solid rgba(148, 163, 184, 0.35);
      transition: background 0.12s ease-out, color 0.12s ease-out,
        border-color 0.12s ease-out;
    }

    .btn-sub:active {
      background: rgba(15, 23, 42, 1);
      color: #e5e7eb;
      border-color: rgba(148, 163, 184, 0.6);
    }

    .meta {
      margin-top: 12px;
      font-size: 11px;
      color: #6b7280;
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }

    .history {
      margin-top: 20px;
      padding-top: 12px;
      border-top: 1px dashed rgba(55, 65, 81, 0.7);
    }

    .history-title {
      font-size: 12px;
      font-weight: 500;
      margin-bottom: 6px;
      color: #9ca3af;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .history-list {
      max-height: 145px;
      overflow-y: auto;
      padding-right: 4px;
    }

    .history-item {
      font-size: 12px;
      color: #d1d5db;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 5px 2px;
      border-radius: 6px;
    }

    .history-item span.nums {
      font-variant-numeric: tabular-nums;
    }

    .history-item span.time {
      font-size: 10px;
      color: #6b7280;
      margin-left: 6px;
    }

    .notice {
      font-size: 10px;
      color: #6b7280;
      margin-top: 4px;
      line-height: 1.4;
    }

    @media (max-width: 480px) {
      .app {
        border-radius: 0;
        max-width: 100%;
        height: 100vh;
        max-height: 100vh;
      }
    }
  </style>
</head>
<body>
  <main class="app">
    <header class="app-header">
      <div class="badge">
        <span>ğŸ²</span> 6/45 ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°
      </div>
      <h1>100% ëœë¤ ë¡œë˜ ë²ˆí˜¸ ìë™ ìƒì„±</h1>
      <p class="subtitle">
        ë²„íŠ¼ í•œ ë²ˆìœ¼ë¡œ ì¤‘ë³µ ì—†ì´ 6ê°œì˜ ë²ˆí˜¸ë¥¼ ë¬´ì‘ìœ„ë¡œ ë½‘ì•„ìš”.
        <br />ê¸°ì–µí•´ ë‘ê³  ì‹¶ì€ ë²ˆí˜¸ëŠ” ì•„ë˜ ê¸°ë¡ì—ì„œ ë‹¤ì‹œ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.
      </p>
    </header>

    <section class="card">
      <div class="card-header">
        <div>
          <div class="card-title">ì´ë²ˆ íšŒì°¨ ì¶”ì²œ ë²ˆí˜¸</div>
          <div class="card-desc">1~45 ì‚¬ì´, ì„œë¡œ ë‹¤ë¥¸ ìˆ«ì 6ê°œ ë¬´ì‘ìœ„ ìƒì„±</div>
        </div>
        <div class="chip">RNG Â· ì¤‘ë³µ ì—†ìŒ</div>
      </div>

      <div class="numbers" id="numbers">
        <!-- ìƒì„±ëœ ë¡œë˜ ê³µë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
      </div>

      <div class="controls">
        <button class="btn-main" id="generateBtn">ë²ˆí˜¸ ìƒˆë¡œ ë½‘ê¸°</button>
        <button class="btn-sub" id="clearHistoryBtn">ê¸°ë¡ ì´ˆê¸°í™”</button>
      </div>

      <div class="meta">
        <span id="lastGeneratedText">ì•„ì§ ë²ˆí˜¸ë¥¼ ìƒì„±í•˜ì§€ ì•Šì•˜ì–´ìš”.</span>
        <span>ëœë¤ ë°©ì‹: crypto â†’ Math.random</span>
      </div>

      <p class="notice">
        ì´ í˜ì´ì§€ëŠ” ì‹¤ì œ ë‹¹ì²¨ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì˜¤ì§ ë²ˆí˜¸ ì¶”ì²¨ì„ ë•ê¸° ìœ„í•œ ì°¸ê³ ìš©
        ë„êµ¬ì…ë‹ˆë‹¤.
      </p>
    </section>

    <section class="history">
      <div class="history-title">
        <span>ìƒì„± ê¸°ë¡</span>
        <span style="font-size: 10px; color: #6b7280;">ìµœê·¼ 20ê°œê¹Œì§€ ì €ì¥</span>
      </div>
      <div class="history-list" id="historyList"></div>
    </section>
  </main>

  <script>
    // ë³´ë‹¤ "ëœë¤ì— ê°€ê¹Œìš´" ìˆ«ì ìƒì„±ì„ ìœ„í•´ crypto ì‚¬ìš© (ì§€ì› ì•ˆ í•˜ë©´ Math.random fallback)
    function getSecureRandomInt(max) {
      // 0 ì´ìƒ max ë¯¸ë§Œ ì •ìˆ˜
      if (window.crypto && window.crypto.getRandomValues) {
        const array = new Uint32Array(1);
        window.crypto.getRandomValues(array);
        return array[0] % max;
      } else {
        // fallback
        return Math.floor(Math.random() * max);
      }
    }

    function shuffle(array) {
      // Fisher-Yates Shuffle, ë‚œìˆ˜ëŠ” getSecureRandomInt ì‚¬ìš©
      for (let i = array.length - 1; i > 0; i--) {
        const j = getSecureRandomInt(i + 1);
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function generateLottoNumbers() {
      // 1~45 ë°°ì—´ ìƒì„±
      const numbers = [];
      for (let i = 1; i <= 45; i++) {
        numbers.push(i);
      }

      // ì„ê³  ì•ì˜ 6ê°œ ì„ íƒ
      shuffle(numbers);
      const pick = numbers.slice(0, 6);

      // ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
      pick.sort((a, b) => a - b);
      return pick;
    }

    const numbersContainer = document.getElementById("numbers");
    const generateBtn = document.getElementById("generateBtn");
    const historyList = document.getElementById("historyList");
    const lastGeneratedText = document.getElementById("lastGeneratedText");
    const clearHistoryBtn = document.getElementById("clearHistoryBtn");

    const history = [];

    function renderBalls(nums) {
      numbersContainer.innerHTML = "";

      nums.forEach((num, idx) => {
        const ball = document.createElement("div");
        ball.classList.add("ball");

        // ìˆ«ìëŒ€ì—­ì— ë”°ë¼ ìƒ‰ìƒ í´ë˜ìŠ¤ ë¶€ì—¬
        if (num <= 10) ball.classList.add("range-1");
        else if (num <= 20) ball.classList.add("range-2");
        else if (num <= 30) ball.classList.add("range-3");
        else if (num <= 40) ball.classList.add("range-4");
        else ball.classList.add("range-5");

        // ì‚´ì§ íŠ€ì–´ì˜¤ë¥´ëŠ” ì• ë‹ˆë©”ì´ì…˜ ëŠë‚Œ
        setTimeout(() => {
          ball.classList.add("pop");
        }, 20 + idx * 40);

        ball.textContent = num.toString().padStart(2, " ");
        numbersContainer.appendChild(ball);
      });
    }

    function addHistory(nums) {
      const now = new Date();
      const timeStr = now
        .toLocaleTimeString("ko-KR", {
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
        })
        .replace(/:/g, ":");

      history.unshift({
        nums: nums.join(", "),
        time: timeStr,
      });

      // ìµœê·¼ 20ê°œë§Œ ìœ ì§€
      if (history.length > 20) history.pop();

      renderHistory();
    }

    function renderHistory() {
      historyList.innerHTML = "";

      history.forEach((item) => {
        const row = document.createElement("div");
        row.classList.add("history-item");

        const numsSpan = document.createElement("span");
        numsSpan.classList.add("nums");
        numsSpan.textContent = item.nums;

        const timeSpan = document.createElement("span");
        timeSpan.classList.add("time");
        timeSpan.textContent = item.time;

        row.appendChild(numsSpan);
        row.appendChild(timeSpan);
        historyList.appendChild(row);
      });
    }

    function handleGenerate() {
      const nums = generateLottoNumbers();
      renderBalls(nums);
      addHistory(nums);

      lastGeneratedText.textContent =
        "ë§ˆì§€ë§‰ ìƒì„± ë²ˆí˜¸: " + nums.join(", ");
    }

    function handleClearHistory() {
      history.length = 0;
      renderHistory();
    }

    generateBtn.addEventListener("click", handleGenerate);
    clearHistoryBtn.addEventListener("click", handleClearHistory);
  </script>
  <script>
    fetch('footer.html')
        .then(response => response.text())
        .then(data => {
            document.body.insertAdjacentHTML('beforeend', data);
        });
</script>
</body>
</html>
